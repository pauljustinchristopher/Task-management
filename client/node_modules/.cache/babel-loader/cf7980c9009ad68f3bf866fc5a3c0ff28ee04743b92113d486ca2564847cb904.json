{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{Container,Paper,TextField,Button,Typography,Box,Alert,CircularProgress,InputAdornment}from'@mui/material';import{Email,ArrowBack}from'@mui/icons-material';import{isValidEmail}from'../../utils/validation';import{authAPI}from'../../services/apiServices';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=()=>{const[email,setEmail]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const[loading,setLoading]=useState(false);const handleChange=e=>{setEmail(e.target.value);if(error)setError('');};const handleSubmit=async e=>{e.preventDefault();if(!email){setError('Email is required');return;}if(!isValidEmail(email)){setError('Please enter a valid email address');return;}setLoading(true);setError('');try{await authAPI.forgotPassword(email);setSuccess('Password reset instructions have been sent to your email address.');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'An error occurred. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,display:'flex',flexDirection:'column',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",gutterBottom:true,children:\"Forgot Password\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{mb:3,textAlign:'center'},children:\"Enter your email address and we'll send you instructions to reset your password.\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',mb:2},children:error}),success&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{width:'100%',mb:2},children:success}),!success&&/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:1,width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:email,onChange:handleChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Email,{})})}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2,py:1.5},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Send Reset Instructions'})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mt:2},children:[/*#__PURE__*/_jsx(ArrowBack,{sx:{mr:1,fontSize:20}}),/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{textDecoration:'none',color:'#1976d2',fontWeight:'bold'},children:\"Back to Login\"})]}),success&&/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',mt:3},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Didn't receive the email? Check your spam folder or\",' ',/*#__PURE__*/_jsx(Button,{variant:\"text\",onClick:handleSubmit,disabled:loading,sx:{p:0,textTransform:'none',textDecoration:'underline'},children:\"try again\"})]})})]})})});};export default ForgotPassword;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}