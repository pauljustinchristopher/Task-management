{"ast":null,"code":"import _objectSpread from\"C:/Users/paulj/Desktop/SIWES/defence project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Container,Paper,Typography,Switch,FormControlLabel,Divider,Box,Button,Card,CardContent,Grid,Alert,Dialog,DialogTitle,DialogContent,DialogActions,TextField}from'@mui/material';import{Delete as DeleteIcon,Download as DownloadIcon,Notifications as NotificationsIcon,Security as SecurityIcon,Palette as PaletteIcon}from'@mui/icons-material';import{useThemeContext}from'../contexts/ThemeContext';import{useAuth}from'../contexts/AuthContext';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=()=>{const{isDarkMode,toggleTheme}=useThemeContext();const{user,logout}=useAuth();const[notifications,setNotifications]=useState({email:true,push:false,taskReminders:true,projectUpdates:true});const[openDeleteDialog,setOpenDeleteDialog]=useState(false);const[deleteConfirmation,setDeleteConfirmation]=useState('');const handleNotificationChange=setting=>event=>{setNotifications(_objectSpread(_objectSpread({},notifications),{},{[setting]:event.target.checked}));toast.success('Notification settings updated');};const handleExportData=()=>{toast.success('Data export started. You will receive an email when ready.');};const handleDeleteAccount=()=>{if(deleteConfirmation!=='DELETE'){toast.error('Please type \"DELETE\" to confirm');return;}// Here you would typically call an API to delete the account\ntoast.success('Account deletion request submitted');setOpenDeleteDialog(false);logout();};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{mt:4,mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Settings\"}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:3},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(PaletteIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Appearance\"})]}),/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:isDarkMode,onChange:toggleTheme,color:\"primary\"}),label:\"Dark Mode\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{ml:4},children:\"Toggle between light and dark theme\"})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:3},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(NotificationsIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Notifications\"})]}),/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notifications.email,onChange:handleNotificationChange('email'),color:\"primary\"}),label:\"Email Notifications\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{ml:4},children:\"Receive notifications via email\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notifications.push,onChange:handleNotificationChange('push'),color:\"primary\"}),label:\"Push Notifications\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{ml:4},children:\"Receive browser push notifications\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notifications.taskReminders,onChange:handleNotificationChange('taskReminders'),color:\"primary\"}),label:\"Task Reminders\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{ml:4},children:\"Get reminded about upcoming deadlines\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notifications.projectUpdates,onChange:handleNotificationChange('projectUpdates'),color:\"primary\"}),label:\"Project Updates\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{ml:4},children:\"Notifications about project changes\"})]})]})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:3},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(SecurityIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Privacy & Security\"})]}),/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{mb:2},children:\"Your account is secured with industry-standard encryption and security measures.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",gutterBottom:true,children:\"Two-Factor Authentication\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"Add an extra layer of security to your account by enabling two-factor authentication.\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",children:\"Enable 2FA\"})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Data Management\"}),/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:1,children:[/*#__PURE__*/_jsx(DownloadIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Export Data\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"Download a copy of all your data including projects, tasks, and activity logs.\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleExportData,children:\"Export Data\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{sx:{border:'1px solid',borderColor:'error.main'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:1,children:[/*#__PURE__*/_jsx(DeleteIcon,{sx:{mr:1,color:'error.main'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"error\",children:\"Delete Account\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"Permanently delete your account and all associated data. This action cannot be undone.\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"error\",onClick:()=>setOpenDeleteDialog(true),children:\"Delete Account\"})]})})})]})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Account Information\"}),/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Account Created\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:user!==null&&user!==void 0&&user.createdAt?new Date(user.createdAt).toLocaleDateString():'Unknown'})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Last Login\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:user!==null&&user!==void 0&&user.lastLogin?new Date(user.lastLogin).toLocaleDateString():'Unknown'})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Account Type\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:(user===null||user===void 0?void 0:user.role)==='admin'?'Administrator':'Standard User'})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Storage Used\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"2.3 MB of 1 GB\"})]})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openDeleteDialog,onClose:()=>setOpenDeleteDialog(false),maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{color:\"error\",children:\"Delete Account\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:\"This action cannot be undone. All your projects, tasks, and data will be permanently deleted.\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"To confirm deletion, please type \",/*#__PURE__*/_jsx(\"strong\",{children:\"DELETE\"}),\" in the field below:\"]}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",fullWidth:true,variant:\"outlined\",value:deleteConfirmation,onChange:e=>setDeleteConfirmation(e.target.value),placeholder:\"Type DELETE to confirm\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenDeleteDialog(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleDeleteAccount,color:\"error\",variant:\"contained\",disabled:deleteConfirmation!=='DELETE',children:\"Delete Account\"})]})]})]});};export default Settings;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}